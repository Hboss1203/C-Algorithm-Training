class Solution {
public:
    void removeElements(string s){
        int slow = 0;
        for(int fast = 0; fast < s.size(); ++fast){//slow在需要输入值的时候++，fast总是++（包括空格）
            if(s[fast] != ' ')//遭遇单词。
            {
                if(slow != 0)//不是第一个词。
                {
                    s[slow] = ' ';//则词的前面加一个空格。
                    slow++;
                }
                while(fast < s.size() && s[fast] != ' ')//还在单词中
                {
                    s[slow] = s[fast];//将单词放入slow中，
                    slow++;
                    fast++;
                }
            }
        }
        s.resize(slow);
    }
    string reverseWords(string s) {
        removeElements(s);//去空格
        reverse(s.begin(),s.end());
        int start = 0;//removeExtraSpaces后保证第一个单词的开始下标一定是0。
        for (int i = 0; i <= s.size(); ++i) {
            if (i == s.size() || s[i] == ' ') { //到达空格或者串尾，说明一个单词结束。进行翻转。
                reverse(s.begin() + start, s.begin() + i); //翻转，注意是左闭右闭 []的翻转。
                start = i + 1; //更新下一个单词的开始下标start
            }
        }
        return s;
    }
};
